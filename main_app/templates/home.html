{% load static %}
<html>
    <head>
      
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <title>Interview preparation</title>
        <link href="{% static 'css/home.css' %}" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>
    <body>
      <header>
        <!--nav-->
        <div class="navbr" style="padding-right:10%;">
          <nav class="navbar navbar-expand-lg bg-body-tertiary w-100" style="margin: 0;">
            <div class="container-fluid">
              <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'img/LOGO (2).png' %}" style="height: 40px; width:40px;"><span style="color: blue;">Interview Preparation</span></a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <!--about,summery etc-->
              <div class="collapse navbar-collapse bg-body-tertiary" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item" >
                    <a class="nav-link" aria-current="page" href="#ABOUT" >About</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#cont" >Contact Us</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'summary' %}" id="summary">Summary</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'log_reg' %}" id="login">Login</a>
                    <a class="nav-link" href="{% url 'logout_view' %}" style="display: none;" name="log_out" id="logout">Log out</a>
                  </li>
              </div>
            </div>
          </nav>
        </div>
        <div class="intro">
          <div id="carouselExampleSlidesOnly" class="carousel slide w-100" data-bs-ride="carousel">
            <div class="carousel-inner" >
              <div class="carousel-item active">
                <h2>WELCOME,LETS START PREPARING FOR INTERVIEW</h2>
              </div>
              <div class="carousel-item">
                <h2>Step 1:Choose your job-feild/Upload Resume</h2>
              </div>
              <div class="carousel-item">
                <h2>Step 2:Click Start</h2>
              </div>
              <div class="carousel-item">
                <h2>Step 3:Type answere to questions and click Submit</h2>
              </div>
              <div class="carousel-item">
                <h2>Step 4:Read Feedback and Suggested Answere and click next</h2>
              </div>
            </div>
          </div>
        </div>
      </header>
        <div class="field" id="field">
          <div class="field_heading">
          <h4><strong>
           <span style="color: red;">*</span>SELECT YOUR FIELD
          </strong></h4>
        </div>
          <div class="field_btn">
            <button type="button" class="btn1">Field 1</button>
          </div>
        </div>
        <hr id="hr" style="justify-content: center;display:flex;align-items: center; margin-right: 200px;margin-left:200px;color:blue; border-width: 2px;box-shadow: 0px 10px 15px rgba(7, 1, 23, 0.5);">
        <div class="discription" id="discription">
          <div class="des">
          <h5> job description :<br></h5>
          <textarea class="job-description" placeholder="your job description" ></textarea>
          </div>
        </div>
        <div class="resume_area" id="resume_area">
          <div class="resume_heading">
            <h5>Upload your resume</h5>
          </div>
        <div class="resume_file">
          <div class="res">
          <input type="file" class="resume" id="resume" >
          <div class="res_sub" style="width: 100%; justify-content: flex-end; display: flex; flex-direction: column; ">
            <button type="submit" class="btn-res-sub" id="btn-res-sub"  style="color:white;background-color: rgb(70, 70, 225);">UPLOAD</button>
          </div>
        </div>
        </div>
          </div>
        <div class="start-btn">
         <button type="button" id="button" onclick="start()">Generate Question</button>
        </div>
    
      <!--area in which quesrion,feedback and sugested ans is shown this area appears only if btn-generate question is clicked-->
     <section id="area"><!--section of area-->
        <div class="main_area" id="main_area"style="display: none;">
          <div class="stop_btn" style="width: 900px;">
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" style="margin-bottom: 10px;margin-left: 700px;">
            End practicing
          </button>
          </div>
          <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header" style="background-color: rgb(111, 111, 250);color: white;">
                <h1 class="modal-title fs-5" id="staticBackdropLabel">Summary</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <!--question-->
                <strong id="q-1"></strong><br><br>
                <!--heading:feedback-->
                <strong id="f-1"></strong><br><br>
                <!--text-feedback-->
                <p id="t-1"></p><br><br>
                <hr>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="end_practice" onclick="practice_done()" >Ok</button>
              </div>
            </div>
          </div>
          </div>
          </div>
          <div class="card" style="width: 70rem;border :2px solid green">
            <strong class="card-header" style="background-color: rgba(67, 97, 219, 0.454);">Question</strong>
            <div class="card-body">
              <strong class="quesrion">what is your name</strong>
              <div class="card-body">
              <!--
                <div class="audioopt">
                  <form actin="">
                <input type="file" id="audio-upload" name="audio-upload" accept="audio/*" style=" display: none;">
                </div>
              -->
              <div class="typeans">
                 <textarea class="answeretypeopt" placeholder="Enter your Answere" id="textarea" ></textarea>
              </div>
              <!--ans input method choose-->
              <div class="ans_method" style="display: flex; align-items: center; justify-content: center;"> 
               <!-- <a href="javascript:void(0);" onclick="showAudio()" style="margin-right: 30px;">Audio answer</a>--><a href="javascript:void(0);" onclick="showTextarea()">Text answer</a>
               </div>
              </div>
              <!--card footer btn-->
              <div class="card-footer">
                <button type="button" class="feedback" onclick="feedback()" >Feedback</button>
                <button type="button" class="suggrstedans" onclick="answer()" >Suggested Answere</button>
              </div>
            </div>
          </div>
           <!--feedback card-->
          <div class="card" style="width: 70rem; display: none; " id="feedback-card" >
              <strong class="card-header" style=" background-color: rgba(97, 204, 240, 0.514);">Feedback</strong>
              <div class="Feedback">
              <div class="card-body">
               <strong class="feedback" id="feedback">Your answere is great</strong>
              </div>
             </div>
          </div>
          <!--answere card-->
          <div class="card" style="width: 70rem; display: none;" id="answer-card">
            <strong class="card-header" style=" background-color: rgba(97, 204, 240, 0.413);">Suggested Answere</strong>
            <div class="card-body">
              <p class="card-text"><strong>Some quick example text to build on the card title and make up the bulk of the card's content.</strong></p>
            </div>
          </div>
          <!--ans submit button and next question button-->
          <div class="ans_submit" style="margin-top:30px;margin-bottom: 30px;  ">
            <form action="">
            <button type="button" class="sub_btn_ans" id="sub" style="padding: 10px;color:white;background-color: rgba(69, 69, 238, 0.616); " onclick="feedback_ans()">Submit for AI Feedback</button>
            <button type="button" class="sub_btn_ans" id="next" style="padding: 10px;color:white;background-color: rgba(69, 69, 238, 0.616); display: none;" onclick="next_ans()">Next Question</button>
            </form>
          </div>
          </div>
     </section>
      <script src="{% static 'js/home.js' %}"></script>
   
      <!-- </div>-->
    
    <div class="container" id="container">
      <section id="ABOUT">
      <div class="About" style="padding:100px">
        <div style="text-align:center;">
          <h2 style="text-decoration:underline; color:blue">ABOUT</h2>
          <p>Are you preparing for a job interview and want to ensure you're fully ready? Our website offers an innovative AI-powered interview preparation platform. With our service, you can practice real interview questions tailored to your desired job role, receive instant feedback, and improve your interview skills.
           <br>
            Our AI interview coach simulates real interview scenarios, providing personalized questions based on your resume and job description. You'll get actionable feedback on your answers, helping you refine your responses and boost your confidence.
            <br>
            Whether you're a recent graduate or a seasoned professional, our platform is designed to help you excel in your interviews and land your dream job. Start practicing today and take the first step towards a successful career!</p>
        </div>
      </div>
    </section>
    <div class="modal fade" id="messagemodel" tabindex="-1" aria-labellby="modalheading" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="modalheading">NOTIFFICATION</h4>
          </div>
          <div class="modal-body">
            {% if messages %}
             {% for message in messages %}
               <p style="color:red">{{ message }}</p>
              {% endfor %}
            {% endif %}
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-secondary" data-bs-dismiss="modal">cloose</button>
          </div>
        </div>
      </div>
    </div>
    <div id="message-flag" data-has-messages="{% if messages %}true{% else %}false{% endif %}" hidden></div>
    <script>
      document.addEventListener("DOMContentLoaded",function(){
         var messageflag=document.getElementById('message-flag').getAttribute("data-has-messages");
        if(messageflag=="true"){
           var messagemodal=new bootstrap.Modal(document.getElementById("messagemodel"))
           messagemodal.show();
         }
      });
    </script>
     <section id="cont">
        <div class="contact">
          <!-- {% if messages %}
             {% for message in messages %}
               {{ message }}
              {% endfor %}
          {% endif %} -->
          <div style="text-align:center">
            <h2 style="color:blue;text-decoration: underline;">Contact Us</h2>
            <p>Any doubt,Feel free to Contact Us</p>
          </div>
          <div class="row">
            <div class="column">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3934.326629766461!2d76.58663417483986!3d9.567086390517378!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b062c368046b521%3A0xa26ec01c48ef7f72!2sIHRD%20CoAS(College%20of%20Applied%20Science)Payyappady%2C%20Puthuppally!5e0!3m2!1sen!2sin!4v1737694184487!5m2!1sen!2sin" width="600" height="450" style="border:2px solid blue;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <div class="column">
              <form action="{% url 'contact_us' %}" method="POST" id="cont_form">
                {% csrf_token %}
                <div class="firname">
                  <label for="fname">First Name</label>
                  <input type="text" id="fname" name="firstname" placeholder="Your name..">
                   <p class="text-danger" id="errorname">please enter firstname</p>
                </div>
                <div class="lasname">
                  <label for="lname">Last Name</label>
                  <input type="text" id="lname" name="lastname" placeholder="Your last name..">
                  <p class="text-danger" id="errorlastname">please enter lastname</p>
                </div>
               <div class="countryy">
                  <label for="country">Country</label>
                  <input type="text" id="lcountry" name="country" placeholder="Your Country">
                  <p class="text-danger" id="errorcountry">please enter country's name</p>
               </div>
                <div class="subjarea">
                  <label for="subject">Subject</label>
                  <textarea id="subject" name="subject" placeholder="Write something.." style="height:170px"></textarea>
                  <p class="text-danger" id="errorsubject">please enter your message</p>
                </div>
               <div class="contsubmit">
                 <input type="submit" value="Submit">
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
    </div>
    <footer>
      <div class="rights" style="height: 100px;width: 100%;padding-top: 20px;text-align: center;background-color: #f2f2f2;">
        <p>© AI POWERED JOB INTERVIEW PREPARATION SYSTEM , ALL RIGHTS RESERVED</p>
        <p>CONTACT US @: <a href="https://mail.google.com">aiinterview@gmail.com</a></p>
      </div>
    </footer>
    <script>
      //validation of contact form
      $(document).ready(function(){
        $("#errorname").hide();
        $("#fname").keyup(function(){
          validatefirstname()
        })
        function validatefirstname()
        {
          let firstname=$("#fname").val()
          if(!firstname)
        {
          $("#errorname").show();
          $("#errorname").html("please enter firstname");
          return false
        }
         else
         {
            let fnamepattern=/^[A-Za-z]+$/;
            let fnamepattervalid=fnamepattern.test(firstname)
            if(!fnamepattervalid)
          {
            $("#errorname").show();
            $("#errorname").html("please enter valid firstname");
            return false
          }
          else
          {
            $("#errorname").hide();
            return true
          }
        }
        }
        //validate lastname
        $("#errorlastname").hide();
        $("#lname").keyup(function(){
          validatelastname()
        })
        function validatelastname()
        {
          let lastname=$("#lname").val()
          if(!lastname)
        {
          $("#errorlastname").show();
          $("#errorlastname").html("please enter lastname");
          return false
        }
         else
         {
            let lnamepattern=/^[A-Za-z]+$/;
            let lnamepattervalid=lnamepattern.test(lastname)
            if(!lnamepattervalid)
          {
            $("#errorlastname").show();
            $("#errorlastname").html("please enter valid lasttname");
            return false
          }
          else
          {
            $("#errorlastname").hide();
            return true
          }
        }
        }
        //validate country
        $("#errorcountry").hide();
        $("#lcountry").keyup(function(){
          validatecountry()
        })
        function validatecountry()
        {
          let country=$("#lcountry").val()
          if(!country)
        {
          $("#errorcountry").show()
          $("#errorcountry").html("please enter country's name")
          return false
        }
        else
        {
          let countryPattern = /^[A-Za-z\s'-]+$/;
          let countrypat=countryPattern.test(country)
          if(!countrypat)
        {
          $("#errorcountry").show()
          $("#errorcountry").html("please enter a valid country name")
          return false
        }
        else
        {
          $("#errorcountry").hide();
          return true
        }
        }
        }
        $("#errorsubject").hide();
        $("#subject").keyup(function(){
          validatesuject()
        })
        function validatesuject()
        {
          let sub=$("#subject").val()
          if(!sub)
        {
          $("#errorsubject").show()
          $("#errorsubject").html("please enter your messages")
          return false
        }
        else
        {
          $("#errorsubject").hide()
          return true
        }
        }
        var logedin="{{ loged_in }}"
        
        $('#cont_form').submit(function(event){
          if(logedin==='True'){
           if(!validatefirstname() || !validatelastname() || !validatecountry() || !validatesuject()){
            event.preventDefault()
           }
          }
           else{
          window.location.href="{% url 'log_reg' %}"
        }
        });
      
      });
        var mising="{{ field_missing|default:''|escapejs}}"
        document.addEventListener("DOMContentLoaded",function()
      {
        if(mising==='missing'){
        document.getElementById("cont").scrollIntoView({
          behavior: "smooth" ,
        });
      }
      });
    </script>
    <script>
      document.querySelector('.nav-link[href="#About"]').addEventListener("click", function(event) {
          event.preventDefault(); // Prevent the default anchor click behavior
          // Scroll to the 'About' section smoothly
          document.getElementById("About").scrollIntoView({
              behavior: "smooth" 
          });
      });
      document.querySelector('.nav-link[href="#cont"]').addEventListener("click", function(event) {
          event.preventDefault(); // Prevent the default anchor click behavior
          // Scroll to the 'About' section smoothly
          document.getElementById("cont").scrollIntoView({
              behavior: "smooth" ,
          });
      });
      </script>
      <script>
        var endpractice = document.getElementById("end_practice");
        function practice_done() {
            window.location.href = "home.html";
        }
      </script>
      <script>
       var logedin="{{ loged_in }}"
       var logiin=document.getElementById("login");
       var logout=document.getElementById("logout");
       if(logedin==='True')
       {
        logiin.style.display='none';
        logout.style.display='block';
       }
       else{
         logiin.style.display='block';
        logout.style.display='none';
    //     document.getElementById("summary").addEventListener('click', function(event) {
    //       event.preventDefault();
    //     window.location.href = "{% url 'log_reg' %}"; // Redirect to log_reg.html if not logged in
    // });
       }
       

      </script>
    </body>
</html>